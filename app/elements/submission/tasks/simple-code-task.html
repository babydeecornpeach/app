<link rel="import" href="general-code-task.html">
<link rel="import" href="/elements/code-editor/consoles/simple-console.html">
<link rel="import" href="/elements/behaviors/wsreader-behavior.html">

<dom-module id="simple-code-task">
	<style>
		:host{
			display: block;
			height: 100%;
		}
	</style>
	<template>
		<code-task task="{{task}}" control="{{control}}">
			<simple-console id="console"></simple-console>
		</code-task>
	</template>
	<script>
		Polymer({
			is: 'simple-code-task',
			behaviors: [
				Behaviors.WSReaderBehavior
			],
			properties: {
				task: {
					reflectToAttribute: true
				},
				control: {
					type: Object,
					notify: true
				}
			},
			observers: [
				'afterPropertiesSet(task)'
			],
			afterPropertiesSet: function(){
				this.control = {};
				var component = this;
				this.control.loading = function(){
					component.$.console.loading();
				};
			}
		});
	</script>
</dom-module>
