<link rel="import" href="../../../bower_components/iron-ajax/iron-ajax.html">
<link rel="import" href="../../../bower_components/paper-icon-button/paper-icon-button.html">

<dom-module id="output-test-console">

  <style>

    #console-container{
      height: 20%;
    }

    #consoleTabs{
      border: none;
      position: relative;
      width: 100%;
      height: 80%;
      max-height: 80%;
      left: 0;
      right: 0;
    }

    .button-toolbar{
      background-color: #3f51b5;
      height: 20%;
    }

    #languageContainer{
      padding-top: 10px;
      padding-left: 1%;
    }
    paper-icon-button{
      padding-left: 1%;
    }
    iron-autogrow-textarea{
      border: none;
      position: relative;
      width: 100%;
      height: 150px;
      max-height: 80%;
      left: 0;
      right: 0;
    }

    .red{
      color: red;
    }

    .green{
      color: green;
    }

    p{
      font-family: "Lucida Console", Monaco, monospace
    }
  </style>

  <template>
    <iron-ajax
      id="ajaxRequest"
      handle-as="json"
      on-response="onResponse"
      debounce-duration="1000"
      content-type="application/json"
      >
    </iron-ajax>

    <div id="console-container">

      <div class="horizontal layout">
        <paper-icon-button src="../../../images/start.png" on-click="runCode">Run code</paper-icon-button>
        <div id="languageContainer">
          <select id="language" on-change="setLanguage">
            <template is="dom-repeat" items="{{availableLanguages}}">
              <option value="{{item.tag}}">{{item.name}}</option>
            </template>
          </select>
        </div>
      </div>

      <iron-pages id="consoleTabs" selected="{{selectedConsole}}">
        <div>
          <p>Console output</p>
        </div>
        <div>
          <p>Loading ...</p>
        </div>
        <div>
          <template is="dom-repeat" items="{{items}}">
            <p class$="{{getFuckingClass(index)}}">{{item}}</p>
          </template>
        </div>
      </iron-pages>
    </div>

  </template>
  <script src="../../../scripts/util.js" type="application/javascript"></script>
  <script src="output-test-console.js" type="application/javascript"></script>
</dom-module>
