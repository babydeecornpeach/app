<dom-module id="task-skill">
    <style>
        :host{
            margin: 5px;
        }
    </style>
    <template>
        <iron-icon id="skillIcon" icon="{{skillIcon}}"></iron-icon>
        <div id="skillValue"><span>{{skillValue}}</span></div>
    </template>
    <script>
        Polymer({
            is: 'task-skill',
            properties: {
                skillName: {
                    type: String,
                    notify: true
                },
                skillValue: {
                    type: Number,
                    notify: true
                },
                displayValue: {
                    type: String,
                    computed: 'computeValue(skillValue)'
                },
                skillIcon: {
                    type: String,
                    computed: 'computeIcon(skillName)'
                },
                // TODO(pbochis): We need to define real icons for each Skill.
                icons: {
                    type: Object,
                    value: {
                        'Algorithmics': 'settings-applications',
                        'Security': 'https',
                        'Readability': 'thumb-up'
                    }
                }
            },
            observers: [
                    'afterPropertiesSet(skillName, skillValue)'
            ],
            computeColor: function(){
                var val = 255 - this.skillValue * 255;
                return 'rgb(' + val + ','+ val + ',' + val + ')';
            },
            computeIcon: function(skillName){
                return this.icons[this.skillName];
            },
            computeValue: function(skillValue){
                return skillValue * 100 + '%';
            },
            afterPropertiesSet: function(skillName, skillValue){
                this.$.skillIcon.style.color = this.computeColor();
                this.$.skillValue.style.color = this.computeColor();
            }

        })
    </script>
</dom-module>