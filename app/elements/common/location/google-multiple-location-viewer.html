<link rel="import" href="../../../bower_components/google-map/google-map.html">
<link rel="import" href="../../../bower_components/iron-selector/iron-selector.html">


<dom-module id="google-multiple-location-viewer">
	<template>
		<style>
			google-map {
				height: 600px;
			}
		</style>
		<div id="container">
			<google-map id="map"
						api-key="[[apiConfig.apiKey]]"
						version="[[apiConfig.version]]"
						map="{{map}}"
						latitude="48.20817"
						longitude="16.37382"
						zoom="16">

				<iron-selector
						activate-event="google-map-marker-open">
					<google-map-marker
							id="marker"
							map="{{map}}"
							click-events="true"
							title="the location name"
							latitude="48.20817"
							longitude="16.37382">
						a description here
					</google-map-marker>
				</iron-selector>


				<!--<iron-selector
						activate-event="google-map-marker-open">
					<google-map-marker
							id="marker2"
							click-events="true"
							title="the location name 2"
							latitude="48.21293"
							longitude="16.37382">
						a description here
					</google-map-marker>
				</iron-selector>-->

			</google-map>
		</div>
	</template>
	<script type="application/javascript" src="../../../scripts/behaviors/google-maps-host-behavior.js"></script>
	<script>
		Polymer({
			is: 'google-multiple-location-viewer',
			behaviors: [
				Behaviors.GoogleMapsHostBehavior
			],
			observers: [
				'_locationSet(map, location)'
			],
			_locationSet(map, location) {
				if (!map || !location){
					return;
				}

				this.$.marker.map = Object.create(this.map);
				this.map.setCenter({lat: 48.20817, lng: 16.37382});
				console.log(this.map);
				//this.show();
			}/*,
			toggleVisibility: function() {
				if (!!this.visible) {
					this.show();
				} else {
					this.hide();
				}
			},
			show: function() {
				this.$.container.style.display = '';
				this.$.map.resize();
				this.$.marker.open = true;
				this.visible = !this.visible;
				console.log("maps show");
			},
			hide: function() {
				this.$.container.style.display = 'none';
				this.visible = !this.visible;
				console.log("maps hide");
			},
			ready: function() {
				console.log("I am ready!");
			}*/
		});
	</script>
</dom-module>