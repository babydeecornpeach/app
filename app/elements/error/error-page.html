<dom-module id="error-page">
	<style>
		:host {
			display: block;
			height: 100%;
			width: 70%;
			margin-left: 15%;
			margin-right: 15%;
		}
		paper-material {
			background: white;
			padding: 16px;
			margin: 16px;
		}
		h3 {
			word-wrap: break-word;
		}
	</style>
	<template>
		<paper-material elevation="1">
			<h3>{{message}}</h3>
		</paper-material>
	</template>
	<script>
		Polymer({
			is: 'error-page',
			properties: {
				message: {
					type: String,
					notify: true
				},
				error: {
					type: Object,
					reflectAsAttribute: true
				}
			},
			observers: [
				'_afterPropertiesSet(error)'
			],
			_afterPropertiesSet: function(){
				var response = this.error.detail.request.xhr.response;
				if(!!response && !!response.Message){
					this.message = response.Message;
				}else {
					this.message = 'Something went wrong. We are sorry for this experience. You can report it on https://github.com/coduno/api/issues';
				}
			}
		});
	</script>
</dom-module>
